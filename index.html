<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TextSocial â€” Your Text-Only Social</title>
  <link rel="stylesheet" href="style.css">
  <!-- Firebase compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <div id="app">
    <header class="topbar">
      <div class="brand">TextSocial</div>
      <div id="top-right"></div>
    </header>

    <!-- AUTH -->
    <section id="auth" class="card center">
      <h2>Welcome to TextSocial</h2>
      <input id="email" placeholder="Email" type="email">
      <input id="password" placeholder="Password" type="password">
      <input id="username" placeholder="Username (unique)">
      <label class="small-label">Profile emoji</label>
      <select id="profileEmoji">
        <option>ðŸ˜€</option><option>ðŸ˜Ž</option><option>ðŸ¤–</option><option>ðŸ”¥</option><option>âœ¨</option>
      </select>
      <div class="row">
        <button class="btn primary" onclick="signup()">Sign up</button>
        <button class="btn" onclick="login()">Login</button>
      </div>
      <p id="auth-message" class="hint"></p>
    </section>

    <!-- MAIN -->
    <main id="main" style="display:none;">
      <section id="home" class="page card">
        <div class="row space-between">
          <div><input id="search" placeholder="Search users / hashtags" oninput="searchAll(this.value)"></div>
          <div><button class="btn" onclick="navigate('post')">New</button></div>
        </div>

        <div class="tabs">
          <button class="tab active" onclick="setFeed('home')">Home</button>
          <button class="tab" onclick="setFeed('following')">Following</button>
          <button class="tab" onclick="setFeed('trending')">Trending</button>
          <button class="tab" onclick="navigate('communities')">Communities</button>
        </div>

        <div id="feed" class="feed"></div>
      </section>

      <!-- Post Page -->
      <section id="post" class="page card" style="display:none">
        <h3>Create Thread</h3>
        <textarea id="postText" placeholder="Write thread (use #hashtags and @mentions)"></textarea>
        <div class="row">
          <button class="btn" onclick="navigate('home')">Cancel</button>
          <button class="btn primary" onclick="createThread()">Post</button>
        </div>
      </section>

      <!-- Profile -->
      <section id="profile" class="page card" style="display:none">
        <div id="profileCard" class="profile-card"></div>
        <div class="row">
          <button class="btn" onclick="editProfilePrompt()">Edit Profile</button>
          <button class="btn" onclick="showFollowers()">Followers</button>
          <button class="btn" onclick="showFollowing()">Following</button>
        </div>
        <h4>Your Threads</h4>
        <div id="myThreads"></div>
      </section>

      <!-- Messages -->
      <section id="messages" class="page card" style="display:none">
        <h3>Messages</h3>
        <div class="row">
          <select id="dmSelect"></select>
          <button class="btn" onclick="openDM()">Open</button>
        </div>
        <div id="dmWindow" class="dm-window"></div>
        <div class="row">
          <input id="dmInput" placeholder="Message">
          <button class="btn primary" onclick="sendDM()">Send</button>
        </div>
      </section>

      <!-- Communities -->
      <section id="communities" class="page card" style="display:none">
        <h3>Communities</h3>
        <div class="row">
          <input id="communityName" placeholder="Create community name">
          <button class="btn" onclick="createCommunity()">Create</button>
        </div>
        <div id="communityList"></div>
      </section>

      <!-- Notifications -->
      <section id="notifications" class="page card" style="display:none">
        <h3>Notifications</h3>
        <div id="notifList"></div>
      </section>
    </main>

    <!-- bottom nav -->
    <nav class="bottom-nav">
      <button onclick="navigate('home')">Home</button>
      <button onclick="navigate('messages')">Messages</button>
      <button onclick="navigate('post')">Post</button>
      <button onclick="navigate('notifications')">Notif</button>
      <button onclick="navigate('profile')">Profile</button>
    </nav>
  </div>

  <script src="script.js"></script>
</body>
</html>
